/*
 * C Program to Display the ATM Transaction
 */
#include <stdio.h>
#include <string.h>

char pin[16];
int checkPIN =0;
double balance=1000,withdraw,deposit;
int choice;
 

void showMenue(){
    
    printf("\n1. Check Balance\n");
    printf("2. Withdraw Money\n");
    printf("3. Deposit Money\n");
    printf("4. Exit\n");
    printf("*********************************************\n\n");
    
}

void checkBalance(){
    printf("\n YOUR BALANCE IN Rs : %f ", balance);
}
void withdraw_money(){
    printf("\n ENTER THE AMOUNT TO WITHDRAW: ");
    scanf("%lf", &withdraw);
    if (withdraw > balance)
    {
        printf("\n INSUFFICENT BALANCE");
    }
    else
    {
        balance = balance - withdraw;
        printf("\n YOUR CURRENT BALANCE IS %f", balance);
    }
}

void deposit_money(){
    
    printf("\n ENTER THE AMOUNT TO DEPOSIT\n");
    scanf("%lf", &deposit);
        balance = balance + deposit;
    printf("YOUR BALANCE IS %f", balance);
}

int main()
{
    while (!checkPIN)
    {
        printf("ENTER YOUR SECRET PIN NUMBER:");
        gets(pin);
        
        if(strcmp(pin, "1520")){
            
            printf("INVALID PASSWORD!!\n");
            
        }
        else{
            printf("\n********Welcome to our ATM **************\n");
            checkPIN=1;
        }
            
    }

    do
    {
        showMenue();
        printf("Enter your choice: ");
        scanf("%d", &choice);
        switch (choice)
        {
            case 1:
            checkBalance();
            break;
            case 2:
            withdraw_money();
            break;
        case 3:
            deposit_money();
            break;
        case 4:
            printf("\n THANK U FOR USING ATM SERVICE! \n");
            break;
        default:
            printf("\n INVALID CHOICE!!\n");
        }
        
    } while (choice!=4);
}

